<div class="container mt-4">
  <div class="card">
    <div class="card-header naapi-card-header d-flex justify-content-between align-items-center">
      <span>Gestão de Alunos</span>
      <button class="btn btn-sm btn-warning" (click)="navegarParaCadastro()"> <i class="bi bi-plus-circle me-1"></i>
        Novo Aluno
      </button>
    </div>
    <div class="card-body">
      <table *ngIf="alunos.length > 0; else noData" class="table table-striped table-hover align-middle">
        <thead class="table-light"> <tr>
            <th>ID</th>
            <th>Nome Completo</th>
            <th>Matrícula</th>
            <th>Prioridade</th>
            <th class="text-end">Ações</th> </tr>
        </thead>
        <tbody>
          <tr *ngFor="let aluno of alunos">
            <td>{{ aluno.id }}</td>
            <td>{{ aluno.nome }} {{ aluno.nomeSocial ? '(' + aluno.nomeSocial + ')' : '' }}</td>
            <td>{{ aluno.matricula }}</td>
            <td>
              <span class="badge" [ngClass]="aluno.prioridadeAtendimento ? 'bg-warning text-dark' : 'bg-secondary'">
                {{ aluno.prioridadeAtendimento ? 'SIM' : 'NÃO' }}
              </span>
            </td>
            <td class="text-end"> <button class="btn btn-sm btn-outline-secondary me-2" [routerLink]="['/alunos', aluno.id]">
                <i class="bi bi-pencil-square">editar</i>
              </button>
              <button class="btn btn-sm btn-outline-danger" (click)="excluir(aluno.id!)">
                <i class="bi bi-trash">excluir</i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>

      <ng-template #noData>
        <div class="alert alert-info" role="alert">
          Nenhum aluno ativo encontrado.
        </div>
      </ng-template>
    </div> </div> </div>
